module.exports=[38992,a=>{"use strict";var b=a.i(57850),c=a.i(45056),d=a.i(50813),e=a.i(93609),f=a.i(59843),g=a.i(57994),h=a.i(36714),i=a.i(73092);let j=(0,a.i(31261).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var k=a.i(65718),l=a.i(70579),m=a.i(85797),n=a.i(71502),o=a.i(16497);function p(){let a=(0,e.useRouter)(),{items:p,getTotalPrice:q,clearCart:r}=(0,n.default)(),{userInfo:s}=(0,m.default)(),[t,u]=(0,c.useState)({firstName:s?.name?.split(" ")[0]||"",lastName:s?.name?.split(" ")[1]||"",email:s?.email||"",phone:"",address:"",city:"",division:"",postalCode:""}),[v,w]=(0,c.useState)({type:"sslcommerz"}),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),B=q(),C=B>500?0:60,D=B+C;(0,c.useEffect)(()=>{0!==p.length||z||a.push("/cart")},[p,a,z]),(0,c.useEffect)(()=>{s||a.push("/login?redirect=/checkout")},[s,a]);let E=a=>{u(b=>({...b,[a.target.name]:a.target.value}))},F=a=>{w({type:a})},G=async b=>{if(b.preventDefault(),s){y(!0);try{let b={items:p.map(a=>({productId:a.productId,name:a.name,price:a.price||0,quantity:a.quantity,image:a.image})),shippingInfo:t,paymentMethod:v.type,subtotal:B,shipping:C,total:D},c=(await o.orderApi.createOrder(b)).order._id;if("stripe"===v.type)await o.paymentApi.createStripeIntent({amount:D,currency:"usd",orderId:c}),A(!0),r(),setTimeout(()=>{a.push("/order-success")},2e3);else if("sslcommerz"===v.type){let a={totalAmount:D,currency:"BDT",orderId:c,customerName:`${t.firstName} ${t.lastName}`,customerEmail:t.email,customerPhone:t.phone,customerAddress:t.address,customerCity:t.city},b=await o.paymentApi.createSSLCommerzSession(a);if(b.success&&b.gatewayUrl)window.location.href=b.gatewayUrl;else throw Error("Failed to create payment session")}}catch(a){console.error("Order placement failed:",a),alert(a.response?.data?.message||"Order placement failed. Please try again.")}finally{y(!1)}}};return z?(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 dark:from-gray-950 dark:via-green-950/40 dark:to-emerald-950/30 flex items-center justify-center py-12 px-4",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"max-w-md w-full bg-white/80 dark:bg-gray-900/90 backdrop-blur-2xl rounded-3xl shadow-2xl p-8 text-center border border-white/30 dark:border-gray-800",children:[(0,b.jsx)(d.motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},className:"w-20 h-20 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(k.CheckCircle,{size:40,className:"text-white"})}),(0,b.jsx)("h2",{className:"text-2xl font-black text-gray-800 dark:text-white mb-4",children:"অর্ডার সফল!"}),(0,b.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"আপনার অর্ডারটি সফলভাবে গৃহীত হয়েছে। শীঘ্রই আপনার সাথে যোগাযোগ করা হবে।"}),(0,b.jsx)(f.default,{href:"/products",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold rounded-2xl hover:shadow-lg transition-all",children:"আরও শপিং করুন"})]})}):0===p.length?null:(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-orange-50 dark:from-gray-950 dark:via-purple-950/40 dark:to-pink-950/30 py-8 px-4",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)(f.default,{href:"/cart",className:"inline-flex items-center gap-2 text-purple-600 dark:text-pink-400 hover:underline mb-4",children:[(0,b.jsx)(j,{size:20}),"কার্টে ফিরে যান"]}),(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-black bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 bg-clip-text text-transparent",children:"চেকআউট"})]}),(0,b.jsxs)("form",{onSubmit:G,className:"grid lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/80 dark:bg-gray-900/90 backdrop-blur-xl rounded-3xl shadow-xl border border-white/30 dark:border-gray-800 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)(h.Truck,{className:"text-purple-600",size:24}),(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"শিপিং তথ্য"})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"প্রথম নাম *"}),(0,b.jsx)("input",{type:"text",name:"firstName",required:!0,value:t.firstName,onChange:E,className:"w-full px-4 py-3 bg-white/60 dark:bg-gray-800/60 backdrop-blur-md border border-gray-300 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500 transition-all",placeholder:"আপনার প্রথম নাম"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"শেষ নাম *"}),(0,b.jsx)("input",{type:"text",name:"lastName",required:!0,value:t.lastName,onChange:E,className:"w-full px-4 py-3 bg-white/60 dark:bg-gray-800/60 backdrop-blur-md border border-gray-300 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500 transition-all",placeholder:"আপনার শেষ নাম"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ইমেইল *"}),(0,b.jsx)("input",{type:"email",name:"email",required:!0,value:t.email,onChange:E,className:"w-full px-4 py-3 bg-white/60 dark:bg-gray-800/60 backdrop-blur-md border border-gray-300 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500 transition-all",placeholder:"আপনার ইমেইল"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ফোন নম্বর *"}),(0,b.jsx)("input",{type:"tel",name:"phone",required:!0,value:t.phone,onChange:E,className:"w-full px-4 py-3 bg-white/60 dark:bg-gray-800/60 backdrop-blur-md border border-gray-300 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500 transition-all",placeholder:"+880 1XX XXX XXXX"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ঠিকানা *"}),(0,b.jsx)("input",{type:"text",name:"address",required:!0,value:t.address,onChange:E,className:"w-full px-4 py-3 bg-white/60 dark:bg-gray-800/60 backdrop-blur-md border border-gray-300 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500 transition-all",placeholder:"বিস্তারিত ঠিকানা"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"শহর *"}),(0,b.jsx)("input",{type:"text",name:"city",required:!0,value:t.city,onChange:E,className:"w-full px-4 py-3 bg-white/60 dark:bg-gray-800/60 backdrop-blur-md border border-gray-300 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500 transition-all",placeholder:"আপনার শহর"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"বিভাগ *"}),(0,b.jsxs)("select",{name:"division",required:!0,value:t.division,onChange:E,className:"w-full px-4 py-3 bg-white/60 dark:bg-gray-800/60 backdrop-blur-md border border-gray-300 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500 transition-all",children:[(0,b.jsx)("option",{value:"",children:"বিভাগ নির্বাচন করুন"}),(0,b.jsx)("option",{value:"dhaka",children:"ঢাকা"}),(0,b.jsx)("option",{value:"chittagong",children:"চট্টগ্রাম"}),(0,b.jsx)("option",{value:"khulna",children:"খুলনা"}),(0,b.jsx)("option",{value:"rajshahi",children:"রাজশাহী"}),(0,b.jsx)("option",{value:"barisal",children:"বরিশাল"}),(0,b.jsx)("option",{value:"sylhet",children:"সিলেট"}),(0,b.jsx)("option",{value:"rangpur",children:"রংপুর"}),(0,b.jsx)("option",{value:"mymensingh",children:"ময়মনসিংহ"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"পোস্টাল কোড"}),(0,b.jsx)("input",{type:"text",name:"postalCode",value:t.postalCode,onChange:E,className:"w-full px-4 py-3 bg-white/60 dark:bg-gray-800/60 backdrop-blur-md border border-gray-300 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-4 focus:ring-purple-500/30 focus:border-purple-500 transition-all",placeholder:"পোস্টাল কোড"})]})]})]}),(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/80 dark:bg-gray-900/90 backdrop-blur-xl rounded-3xl shadow-xl border border-white/30 dark:border-gray-800 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)(g.CreditCard,{className:"text-purple-600",size:24}),(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"পেমেন্ট পদ্ধতি"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 border-2 border-green-200 dark:border-green-800 rounded-2xl cursor-pointer transition-all hover:border-green-300",children:[(0,b.jsx)("input",{type:"radio",name:"paymentMethod",value:"sslcommerz",checked:"sslcommerz"===v.type,onChange:()=>F("sslcommerz"),className:"text-green-600 focus:ring-green-500"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-semibold text-gray-800 dark:text-white",children:"SSLCommerz (বাংলাদেশ)"}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"বিকাশ, নগদ, রকেট, ব্যাংক কার্ড সহ"})]}),(0,b.jsx)("div",{className:"text-green-600 font-bold",children:"সুপারিশকৃত"})]}),(0,b.jsxs)("label",{className:"flex items-center gap-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-2xl cursor-pointer transition-all hover:border-blue-300",children:[(0,b.jsx)("input",{type:"radio",name:"paymentMethod",value:"stripe",checked:"stripe"===v.type,onChange:()=>F("stripe"),className:"text-blue-600 focus:ring-blue-500"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-semibold text-gray-800 dark:text-white",children:"Stripe (আন্তর্জাতিক)"}),(0,b.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ক্রেডিট/ডেবিট কার্ড, PayPal"})]})]})]})]})]}),(0,b.jsx)("div",{className:"lg:col-span-1",children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white/80 dark:bg-gray-900/90 backdrop-blur-xl rounded-3xl shadow-xl border border-white/30 dark:border-gray-800 p-6 sticky top-4",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-gray-800 dark:text-white mb-6",children:"অর্ডার সারাংশ"}),(0,b.jsx)("div",{className:"space-y-4 mb-6",children:p.map(a=>(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden flex-shrink-0 relative",children:a.image?(0,b.jsx)(l.default,{src:a.image||"",alt:a.name||"",fill:!0,className:"object-cover w-full h-full",sizes:"48px"}):(0,b.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-purple-200 to-pink-200 dark:from-purple-800 dark:to-pink-800"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-800 dark:text-white truncate",children:a.name}),(0,b.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,b.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["পরিমাণ: ",a.quantity]}),(0,b.jsxs)("span",{className:"font-semibold text-purple-600",children:["৳",(a.price||0)*a.quantity]})]})]})]},a.productId))}),(0,b.jsxs)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"সাবটোটাল"}),(0,b.jsxs)("span",{className:"font-medium text-gray-800 dark:text-white",children:["৳",B]})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"শিপিং"}),(0,b.jsx)("span",{className:`font-medium ${0===C?"text-green-600":"text-gray-800 dark:text-white"}`,children:0===C?"ফ্রি":`৳${C}`})]}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-gray-200 dark:border-gray-700",children:[(0,b.jsx)("span",{className:"text-gray-800 dark:text-white",children:"মোট"}),(0,b.jsxs)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-pink-600",children:["৳",D]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-6 p-3 bg-green-50 dark:bg-green-900/20 rounded-2xl",children:[(0,b.jsx)(i.Shield,{className:"text-green-600",size:20}),(0,b.jsx)("span",{className:"text-sm text-green-700 dark:text-green-400",children:"আপনার পেমেন্ট তথ্য নিরাপদ এবং এনক্রিপ্টেড"})]}),(0,b.jsxs)("button",{type:"submit",disabled:x,className:"w-full mt-6 py-4 px-8 bg-gradient-to-r from-purple-600 via-pink-600 to-orange-600 text-white font-bold text-lg rounded-2xl shadow-xl hover:shadow-2xl hover:shadow-purple-500/30 disabled:opacity-70 disabled:cursor-not-allowed transition-all duration-300 relative overflow-hidden group",children:[(0,b.jsx)("span",{className:"relative z-10 flex items-center justify-center gap-3",children:x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-6 h-6 border-4 border-white/30 border-t-white rounded-full"}),"প্রসেসিং..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.CreditCard,{size:20}),"অর্ডার কনফার্ম করুন - ৳",D]})}),(0,b.jsx)(d.motion.div,{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12",initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.8}})]})]})})]})]})})}a.s(["default",()=>p],38992)}];

//# sourceMappingURL=frontend_app_checkout_page_tsx_a8ed2520._.js.map