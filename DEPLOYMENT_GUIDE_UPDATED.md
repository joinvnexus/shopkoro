# ShopKoro ডিপ্লয়মেন্ট গাইড

এই ডকুমেন্টটি আপনাকে ShopKoro ই-কমার্স ওয়েবসাইটটি Render প্ল্যাটফর্মে ডিপ্লয় করতে সাহায্য করবে।

## প্রস্তুতি

ডিপ্লয়মেন্ট শুরু করার আগে আপনার নিশ্চিত হয়ে নিন যে:

1. আপনার GitHub অ্যাকাউন্ট আছে এবং আপনি সাইন আপ করেছেন Render.com এ
2. আপনার প্রকল্পটি GitHub এ পুশ করা হয়েছে
3. আপনি Render.com এ লগইন করেছেন

## ডিপ্লয়মেন্ট প্রক্রিয়া

### ধাপ ১: MongoDB ডাটাবেস সেটআপ

1. Render.com এ লগইন করুন
2. "New +" বোতামে ক্লিক করুন
3. "Web Service" নির্বাচন করুন
4. নিচের তথ্যগুলি পূরণ করুন:
   - Name: `shopkoro-mongo`
   - Region: `oregon` (আপনার পছন্দের অঞ্চল)
   - Branch: `main`
   - Root Directory: `backend`
   - অন্যান্য ডিফল্ট অপশন রাখুন
5. এনভায়রনমেন্ট ভেরিয়েবল সেকশনে:
   - `MONGO_INITDB_ROOT_USERNAME` - একটি ইউজারনেম তৈরি করুন
   - `MONGO_INITDB_ROOT_PASSWORD` - একটি শক্তিশালী পাসওয়ার্ড তৈরি করুন
   - `MONGO_INITDB_DATABASE` - `shopkoro` লিখুন
6. "Create Web Service" বোতামে ক্লিক করুন

### ধাপ ২: ব্যাকএন্ড API ডিপ্লয় করুন

1. Render.com এ "New +" বোতামে ক্লিক করুন
2. "Web Service" নির্বাচন করুন
3. নিচের তথ্যগুলি পূরণ করুন:
   - Name: `shopkoro-backend`
   - Region: `oregon` (বা আপনার পছন্দের অঞ্চল)
   - Branch: `main`
   - Root Directory: `backend`
   - Build Command: `npm install && npm run build`
   - Start Command: `npm start`
   - অন্যান্য ডিফল্ট অপশন রাখুন
4. এনভায়রনমেন্ট ভেরিয়েবল সেকশনে:
   - `NODE_ENV` - `production` লিখুন
   - `PORT` - `10000` লিখুন
   - `MONGO_URI` - এটি MongoDB সার্ভিস থেকে পাবেন, সেটা যোগ করুন
   - `JWT_SECRET` - একটি র‍্যান্ডম স্ট্রিং তৈরি করুন
   - `STRIPE_SECRET_KEY` - আপনার Stripe অ্যাকাউন্ট থেকে পাবেন
   - `SSLCOMMERZ_STORE_ID` - আপনার SSLCommerz অ্যাকাউন্ট থেকে পাবেন
   - `SSLCOMMERZ_STORE_PASSWORD` - আপনার SSLCommerz অ্যাকাউন্ট থেকে পাবেন
   - `FRONTEND_URL` - `https://shopkoro.onrender.com` লিখুন
5. "Create Web Service" বোতামে ক্লিক করুন

### ধাপ ৩: ফ্রন্টএন্ড অ্যাপ্লিকেশন ডিপ্লয় করুন

1. Render.com এ "New +" বোতামে ক্লিক করুন
2. "Web Service" নির্বাচন করুন
3. নিচের তথ্যগুলি পূরণ করুন:
   - Name: `shopkoro-frontend`
   - Region: `oregon` (বা আপনার পছন্দের অঞ্চল)
   - Branch: `main`
   - Root Directory: `frontend`
   - Build Command: `npm install && npm run build`
   - Start Command: `npm start`
   - অন্যান্য ডিফল্ট অপশন রাখুন
4. এনভায়রনমেন্ট ভেরিয়েবল সেকশনে:
   - `NODE_ENV` - `production` লিখুন
   - `NEXT_PUBLIC_API_URL` - `https://shopkoro.onrender.com/api` লিখুন
   - `NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY` - আপনার Stripe অ্যাকাউন্ট থেকে পাবেন
5. "Create Web Service" বোতামে ক্লিক করুন

## ডিপ্লয়মেন্ট পরবর্তী কাজ

1. **অ্যাডমিন অ্যাকাউন্ট তৈরি করুন**:
   - আপনি একটি অ্যাডমিন অ্যাকাউন্ট তৈরি করতে পারেন কোডের মাধ্যমে। ব্যাকএন্ড সার্ভার চলতে শুরু করার পর, আপনি নিচের এন্ডপয়েন্টটি কল করতে পারেন:
     ```
     POST /api/auth/register-admin
     ```
   - অথবা আপনি ব্যাকএন্ড ডিরেক্টরিতে `npm run seed:admin` কমান্ড চালিয়ে অ্যাডমিন অ্যাকাউন্ট তৈরি করতে পারেন

2. **ডাটা সিডিং**:
   - আপনি নিচের কমান্ডটি চালিয়ে ডাটাবেসে কিছু প্রাথমিক ডাটা যোগ করতে পারেন:
     ```
     npm run seed
     ```

3. **ডোমেইন কনফিগারেশন**:
   - আপনি যদি কাস্টম ডোমেইন ব্যবহার করতে চান, তাহলে:
     - আপনার ডোমেইনের DNS সেটিংসে Render এর প্রদত্ত CNAME রেকর্ডগুলি যোগ করুন
     - Render ড্যাশবোর্ডে প্রতিটি সার্ভিসে কাস্টম ডোমেইন যোগ করুন

## সমস্যা সমাধান

### সাধারণ সমস্যা

1. **Build ব্যর্থ হচ্ছে**:
   - সব ডিপেন্ডেন্সি ইনস্টল করা হয়েছে কিনা চেক করুন
   - TypeScript এর কোনো এরর আছে কিনা চেক করুন
   - পরিবেশ ভেরিয়েবল সঠিকভাবে সেট করা হয়েছে কিনা চেক করুন

2. **API কল ব্যর্থ হচ্ছে**:
   - `NEXT_PUBLIC_API_URL` সঠিকভাবে কনফিগার করা হয়েছে কিনা চেক করুন
   - CORS এরর আছে কিনা চেক করুন (ব্যাকএন্ডে `cors` মিডলওয়্যার কনফিগার করা আছে কিনা)

3. **ডাটাবেস সংযোগ ব্যর্থ হচ্ছে**:
   - `MONGO_URI` সঠিকভাবে কনফিগার করা হয়েছে কিনা চেক করুন
   - ডাটাবেস সার্ভিস চলছে কিনা চেক করুন

### ডিবাগিং টিপস

1. **লগ চেক করুন**:
   - Render ড্যাশবোর্ডে প্রতিটি সার্ভিসের লগ দেখুন
   - সার্ভিসের মাধ্যমে SSH কানেক্ট করে লাইভ লগ দেখুন

2. **পরিবেশ ভেরিয়েবল চেক করুন**:
   - প্রতিটি সার্ভিসের এনভায়রনমেন্ট ভেরিয়েবল সঠিক কিনা চেক করুন

3. **স্থানীয়ভাবে চেক করুন**:
   - আপনি স্থানীয়ভাবে অ্যাপটি চালিয়ে ডিপ্লয়মেন্টের মতো এনভায়রনমেন্ট তৈরি করে চেক করতে পারেন

## রক্ষণাবেক্ষণ

1. **রেগুলার আপডেট**:
   - নতুন ফিচার এবং বাগ ফিক্স যোগ করার পর GitHub এ পুশ করুন
   - Render অটোমেটিক্যালি আপডেট করবে

2. **ব্যাকআপ**:
   - নিয়মিতভাবে ডাটাবেস ব্যাকআপ নিন
   - Render MongoDB এর জন্য ব্যাকআপ ফিচার প্রদান করে

3. **মনিটরিং**:
   - Render ড্যাশবোর্ডে সার্ভিসের পারফরম্যান্স মনিটর করুন
   - এলার্ট সেট আপ করুন যদি কোনো সার্ভিস ডাউন হয়

## সাহায্য

যদি আপনার কোনো সমস্যা হয়, তাহলে:

1. Render ডকুমেন্টেশন চেক করুন: https://render.com/docs
2. GitHub এ ইস্যু ওপেন করুন
3. Render সাপোর্ট টিমের সাথে যোগাযোগ করুন

সফল ডিপ্লয়মেন্ট!
